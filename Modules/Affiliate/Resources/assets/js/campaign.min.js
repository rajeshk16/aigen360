"use strict";$(document).on("init.dt",function(){$(".dataTables_length").remove(),$("#dataTableBuilder").removeAttr("style")});function dataTable(a,b){$(a).DataTable({columnDefs:[{targets:b,orderable:!1}],language:{url:app_locale_url},pageLength:row_per_page,order:[[0,"asc"]]})}$(".main-body .page-wrapper").find("#affiliate-campaign-container").length&&(dataTable("#dataTableBuilder",[3]),$(document).on("keyup","#slug",function(){var a=this.value.replace(/[&\/\\#@,+()$~%.'":*?<>{}]/g,"");$("#slug").val(a.trim().toLowerCase().replace(/\s/g,"-"))}),$(document).on("keyup","#name",function(){var a=this.value.replace(/[&\/\\#@,+()$~%.'":*?<>{}]/g,"");$("#slug").val(a.trim().toLowerCase().replace(/\s/g,"-"))}),$(document).on("click",".edit_tag",function(){let a=$(this).attr("data-url");$.ajax({url:a,type:"GET",dataType:"JSON",success:function(a){$("#edit_name").val(a.campaign.name),$("#summary").val(a.campaign.summary),$("#link").val(a.campaign.link),$("#edit_summernote").summernote("code",a.campaign.description),$("#campaign_id").val(a.campaign.id),$("#visibility").empty(),$.each(a.tags,function(a,b){$("#visibility").append(`<option value="${a}" selected>
                                       ${b}
                                  </option>`)}),$("#edit-campaign").modal()}})}),$("#confirmDelete").on("show.bs.modal",function(a){var b=$(a.relatedTarget),c=$(this);$("#confirmDeleteSubmitBtn").attr("data-task","").removeClass("delete-task-btn"),"Delete"==b.data("label")&&(c.find("#confirmDeleteSubmitBtn").addClass("delete-task-btn").attr("data-task",b.data("id")).text(jsLang("Yes, Confirm")).show(),c.find("#confirmDeleteLabel").text(b.data("title")),c.find(".modal-body").text(b.data("message"))),$("#confirmDeleteSubmitBtn").on("click",function(){$("#delete-language-"+$(this).data("task")).trigger("submit")})}),$(".affiliate_tag").select2({ajax:{url:SITE_URL+"/affiliate/find-affiliate-tag-in-ajax",dataType:"json",delay:250,data:function(a){return{q:a.term,page:a.page}},processResults:function(a){let b=a.data;return{results:b}},cache:!0},placeholder:jsLang("Search for an affiliate tag."),minimumInputLength:3}),$(document).ready(function(){$(".summernote").summernote({tabsize:2,height:120,blockquoteBreakingLevel:2,styleTags:["p",{title:"Blockquote",tag:"blockquote",className:"blockquote",value:"blockquote"},"pre","h1","h2","h3","h4","h5","h6"],toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link"]],["view",["codeview","help"]]],codeviewFilter:!0,codeviewFilterRegex:summernote_regex,callbacks:{onInit:function(){$("<div class=\"note-file btn-group note-btn-group\"><button id=\"makeSnote\" type=\"button\" class=\"note-btn editor-img-btn btn btn-default btn-sm has-media-manager\" data-val=\"single\" tabindex=\"-1\" title=\"\" aria-label=\"Picture\" data-original-title=\"Picture\" aria-describedby=\"tooltip682862\"><i class=\"note-icon-picture\"></i></button></div>").appendTo($(".note-toolbar"))},onChange:function(){}}})}),$(document).on("file-attached",".editor-img-btn",function(a,b){b.data.forEach(a=>{$("#add-campaign").hasClass("show")?$("#summernote").summernote("pasteHTML"," <span><img src=\""+a.url+"\" style=\"width: 200px;\"/><br></span>"):$("#edit-campaign").hasClass("show")&&$("#edit_summernote").summernote("pasteHTML"," <span><img src=\""+a.url+"\" style=\"width: 200px;\"/><br></span>")})})),$(".main-body .page-wrapper").find("#affiliate-user-campaign-container").length&&dataTable("#dataTableBuilder",[3]);
