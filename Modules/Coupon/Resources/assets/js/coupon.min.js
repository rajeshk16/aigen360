'use strict';$(document).ready(function(){$("#success-message").css("display","none"),$("#warning-message").css("display","none"),$("#v-pills-general-tab").trigger("click"),$("input").on("change",function(){$(".warning-message").addClass("alert-secondary"),$("#warning-message").css("display","block"),$("#warning-msg").html(jsLang("Settings have changed, you should save them!"))})}),$(document).on("click",".cr",function(){var a=$(this).closest(".switch").find("input").val();1==a?$(this).closest(".switch").find("input").val(0):$(this).closest(".switch").find("input").val(1)}),$(".tab-name").on("click",function(){var a=$(this).attr("data-id");$("#theme-title").html(a)}),$("#discount_amount").on("keyup change",function(){$(this).attr("placeholder")==jsLang("Discount Percentage")&&100<$(this).val()&&$(this).val(100)}),$(".main-body .page-wrapper").find("#coupon-add-container, #coupon-edit-container, #coupon-list-container").length&&($(".tab-pane[aria-labelledby=\"v-pills-general-tab\"").addClass("show active"),$("#discount_type").on("change",function(){"Percentage"==$(this).val()?($(".discount_amount_label").text(jsLang("Discount Percentage")),$("#discount_amount").attr("placeholder",jsLang("Discount Percentage")),100<=$("#discount_amount").val()?$("#discount_amount").val(100):""):($(".discount_amount_label").text(jsLang("Discount Amount")),$("#discount_amount").attr("placeholder",jsLang("Discount Amount")))}));function discount(){"Percentage"==$("select[name=\"discount_type\"]").val()?$(".discount_amount_label").text(jsLang("Discount Percentage")):$("#max_discount").hide(),$("select[name=\"discount_type\"]").on("change",function(a){"Percentage"==a.target.value?$("#max_discount").show():$("#max_discount").hide()})}$(".main-body .page-wrapper").find("#coupon-add-container").length&&($("input[name=\"start_date\"]").daterangepicker(dateSingleConfig()),$("input[name=\"end_date\"]").daterangepicker({singleDatePicker:!0,showDropdowns:!0,startDate:moment().add(1,"day"),minDate:moment().add(1,"day"),locale:{format:"YYYY-MM-DD"}})),$(".main-body .page-wrapper").find("#coupon-edit-container").length&&($("input[name=\"start_date\"]").daterangepicker(dateSingleConfig($("input[name=\"start_date\"]").val())),$("input[name=\"end_date\"]").daterangepicker({singleDatePicker:!0,showDropdowns:!0,startDate:$("input[name=\"end_date\"]").val(),minDate:moment().add(1,"day"),locale:{format:"YYYY-MM-DD"}})),$(".main-body .page-wrapper").find("#coupon-add-container, #coupon-edit-container").length&&discount(),$(".main-body .page-wrapper").find("#coupon-list-container").length&&$(document).on("click","#csv, #pdf",function(a){a.preventDefault(),window.location=SITE_URL+"/coupon/"+this.id}),$(".main-body .page-wrapper").find("#coupon-redeem-list-container").length&&$(document).on("click","#csv, #pdf",function(a){a.preventDefault(),window.location=SITE_URL+"/coupon-redeem/"+this.id}),$(".coupon-submit-button").on("click",function(){var a=["#v-pills-general","#v-pills-restriction","#v-pills-limit"];setTimeout(()=>{for(const c in a)if($(a[c]).find(".error").length){var b=$(a[c]).attr("aria-labelledby");$("#"+b).tab("show"),tabTitle(b);break}},100)});function tabTitle(a){var b=$("#"+a).attr("data-id");$("#theme-title").html(b)}$("button.switch-tab").on("click",function(){$("#"+$(this).attr("data-id")).tab("show");var a=$(this).attr("data-id");tabTitle(a),$(".tab-pane[aria-labelledby=\"home-tab\"").addClass("show active"),$("#"+$(this).attr("id")).addClass("active").attr("aria-selected",!0)});
